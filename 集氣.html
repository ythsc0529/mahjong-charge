<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>éº»å°‡æ‹›è²¡ç¥é›†æ°£ç¨‹å¼ è¶…ã„ã„§ã„¤V5 å®Œæ•´ç‰ˆ</title>
  <style>
    body { font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif; text-align: center; padding: 30px; background-color: #fff7e6; transition: background-color 0.5s; }
    button { font-size: 22px; padding: 8px 16px; margin: 8px; background-color: gold; border: none; border-radius: 8px; cursor: pointer; }
    #message { margin-top: 20px; font-size: 28px; color: #d2691e; font-weight: bold; }
    #lucky, #ritual, #engong, #energy { margin-top: 16px; font-size: 20px; color: #333; }
    #energyBar { width: 280px; height: 28px; background-color: #ccc; border-radius: 14px; margin: 12px auto; overflow: hidden; }
    #energyFill { height: 100%; width: 0%; background-color: limegreen; transition: width 0.4s; }
    .flash { animation: flash 0.5s; }
    @keyframes flash { 0%,100% { background-color: #ffeb3b; } 50% { background-color: #ffa500; } }
    .shake { animation: shake 0.5s; }
    @keyframes shake { 0%,100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 50% { transform: translateX(5px); } 75% { transform: translateX(-5px); } }
  </style>
</head>
<body>

  <h1>éº»å°‡æ‹›è²¡ç¥é›†æ°£æ©Ÿ V5 ğŸ‰</h1>
  <button id="summonBtn" onclick="summon()">æ‹›è²¡ç¥å•¦ï¼</button>
  <button id="chargeBtn" onclick="charge()" style="display:none;">é–‹å§‹é›†æ°£âš¡</button>

  <div id="message"></div>
  <div id="lucky"></div>
  <div id="ritual"></div>
  <div id="engong"></div>

  <div id="energy">
    <strong>é›†æ°£èƒ½é‡ï¼š</strong>
    <div id="energyBar">
      <div id="energyFill"></div>
    </div>
  </div>

  <audio id="powerupSound" src="music.mp3"></audio>

  <script>
    // 100 å‰µæ„é›†æ°£ä»»å‹™
    const allTasks = [
      "é›™æ‰‹åˆåï¼Œå˜´å·´å¿µã€Œä¸€è‡ªæ‘¸ï¼ŒäºŒè‡ªæ‘¸ï¼Œå¤©å¤©è‡ªæ‘¸ã€ä¸‰é",
      "ç”¨å·¦æ‰‹æ‘¸è‡ªå·±çš„å³è‡‰é °ï¼Œå†ç”¨å³æ‰‹æ‘¸éº»å°‡æ¡Œé¢ä¸‰ä¸‹",
      "æ¨¡ä»¿éº»å°‡ç‰Œè¢«åˆ‡ç‰Œçš„è²éŸ³ã€å•ªå—’å•ªå—’ã€äº”æ¬¡",
      "ç«™èµ·ä¾†è½‰ä¸€åœˆï¼Œä¸¦å¤§å–Šã€Œèƒ¡çˆ†å…¨å ´ï¼ã€",
      "æ‹¿èµ·ä¸€å¼µæ¢å­ç‰Œåœ¨é¡é ­ç•«åå­—",
      "å‘è²¡ç¥åƒæ•¬é¦™ä¸¦è¡Œä¸‰é èº¬ç¦®",
      "ç”¨ç­Šæ¯æ“²ç­Šå…©æ¬¡ç›´åˆ°è–ç­Šç‚ºæ­¢",
      "ç”¨æ‰‹æŒè¼•æ‹ç‰Œé¢ä¸¦å¤§å–Šã€Œé–‹é‹å»ã€",
      "é–‰çœ¼é»˜å¿µè‡ªå·±çš„å¹¸é‹æ•¸å­—äº”ç§’",
      "è·Ÿéš”å£æ¡Œå¤§å–Šã€Œæˆ‘ä¸€å®šè´ï¼ã€ç„¶å¾Œæ¡æ‹³",
      "å°è‘—æœ‹å‹å¹å£å“¨ä¸‰æ¬¡",
      "ä»°é ­çœ‹å¤©é«˜å–Šã€Œå¤©åŠ©æˆ‘ä¹Ÿã€",
      "ä½é ­å‘åœ°é¢è¼•è²èªªä¸€å¥ã€Œæˆ‘ä¾†äº†ã€",
      "åƒè·³èˆä¸€æ¨£æ®å‹•æ‰‹è‡‚åä¸‹",
      "æ‰‹æŒ‡è¼•æ•²æ¡Œé¢å…«ä¸‹",
      "æ‹æ‰“è‡ªå·±çš„è‚©è†€ä¸‰ä¸‹",
      "å°è‘—æ‰‹æ©Ÿè‡ªæ‹æ•¬ç¦®ä¸€å¼µ",
      "åƒä¸€å£æ‰‹é‚Šçš„é›¶é£Ÿä¸¦æ¯”è®š",
      "å°è‘—å¨›æ¨‚åŸçš„ç‰Œæ¡Œæ¯”ä¸‰è…³è²“æ‰‹å‹¢",
      "æ¡æ‹³æ¯”å‡ºã€Œå‹åˆ©Vã€æ‰‹å‹¢",
      "ç”¨æ‰‹æ¯”å‡ºã€Œå¤§å¿ƒã€æ‰‹å‹¢",
      "æ¨¡ä»¿è²¡ç¥ç¿è²éŸ³èªªã€Œä¾†ç½©æˆ‘ã€",
      "èˆ‰èµ·æ‰‹ä¸­çš„ç‰Œé«˜éé ­é ‚",
      "è·ªåœ°æ‘¸åœ°æ¿ä¸€æ¬¡",
      "æ‰‹æŒåˆåå‘è‡ªå·±ç¥ˆç¦±",
      "é›™æ‰‹åœ¨èƒ¸å‰ç•«å¿ƒå½¢",
      "å¤§è²å–Šå‡ºã€Œè‡ªæ‘¸ï¼ã€",
      "å’¬ä¸€å£æª¯é‚Šå£é¦™ç³–",
      "æ‘¸æ‘¸è‡ªå·±çš„å¸½å­",
      "æŠŠéª°å­æ‹‹å‘ç©ºä¸­å†æ¥ä½",
      "ç”¨å…©æ ¹æ‰‹æŒ‡æ¯”è€¶",
      "å°ç‰Œæ¡Œæ‹ä¸€æ‹èªªã€ŒåŠ æ²¹ã€",
      "æ·±å¸ä¸‰å£æ°£",
      "è¼•æ•²æ¡Œè…³ä¸‰ä¸‹",
      "ä¼¸æ‡¶è…°å¤§å–Šã€Œæº–å‚™å¥½äº†ã€",
      "ç”¨æŒ‡å°–è¼•è§¸é¼»å°–ä¸‰æ¬¡",
      "é–‰çœ¼ç”¨åŠ›é»é ­äº”æ¬¡",
      "å°è‘—éº»å°‡ç‰ŒæŠ½ä¸€å¼µå‡è£çœ‹",
      "æ‘¸æ‘¸è„–å­ä¸‹æ–¹è‡ªæ‘¸ç‰Œç¬¦",
      "æŠ½å‡ºæ‰‹æ©Ÿæ‹ä¸€å¼µç‰Œæ¡Œç…§",
      "æ¯”å‡ºã€ŒOKã€æ‰‹å‹¢",
      "å°è‡ªå·±å¾®ç¬‘ä¸‰ç§’",
      "è¼•è¼•å½ˆæ¡Œé¢äº”æ¬¡",
      "å¤§å–Šã€Œè²¡ç¥åœ¨ï¼ã€",
      "æ¨¡ä»¿éº»å°‡é–‹å±€ã€Œå’šå’šå’šã€è²",
      "é›™æ‰‹é«˜èˆ‰ä¸¦æ–å‹•",
      "ç”¨ç­·å­æŒ‡è‘—è‡ªå·±èªªã€Œæˆ‘ï¼ã€",
      "å´è€³å‚¾è½ç‰Œæ¡Œè²éŸ³",
      "è¼•è¼•é¼“æŒä¸‰ä¸‹",
      "èˆ‰èµ·å·¦æ‰‹æ•¬å¤©",
      "å³æ‰‹æ•¬åœ°å…©ç§’",
      "é›™æ‰‹åˆåç¥ˆç¦±",
      "å°ç‰Œæ¡Œé èº¬ä¸€æ¬¡",
      "æ‘¸æ‘¸é ­é ‚æƒ³åƒç™¼å…‰",
      "å°æ¡Œé¢æ‰“æ‹›å‘¼",
      "è¼•è²è€³èªï¼šã€Œæˆ‘æ±‚ä½ äº†ã€",
      "æ‹æ‹è‡ªå·±å¤§è…¿ä¸‰æ¬¡",
      "æŠŠæ‰‹æ”¾èƒ¸å£æ„Ÿå—å¿ƒè·³",
      "æ¨¡ä»¿éŒ¢å¹£ç¢°æ’è²ã€Œå®å—šã€ä¸‰æ¬¡",
      "æŠŠé£Ÿç‰©æ”¾åˆ°æ¡Œé‚Šç¥ˆç¦",
      "èˆ‰æ‰‹æ©Ÿè‡ªæ‹å¤§ç¬‘",
      "æ‘¸æ‘¸ç…™ç°ç¼¸",
      "é›™æ‰‹æ‰“é–‹æ¥å…‰",
      "æ·±å‘¼å¸å†¥æƒ³åç§’",
      "å°å¤©é èº¬ä¸€ç§’",
      "æ‰‹æŒ‡åŠƒåå­—æ¶",
      "æ¨¡ä»¿åœ°å¿ƒå¸åŠ›",
      "è¼•è¸¢æ¡Œè…³ä¸€æ¬¡",
      "é‚Šèµ°é‚Šèªªã€Œèµ°è·¯å¸¶é¢¨ã€",
      "ç”¨ä¸€æ ¹æ‰‹æŒ‡ç•«åœˆ",
      "æ¯”å‡ºæ„›å¿ƒæ‰‹å‹¢",
      "æ¨¡ä»¿éº»å°‡ã€Œç¢°ã€è²",
      "å¤§ç¬‘ä¸‰è²",
      "è·³ä¸€å°æ®µèˆ",
      "å¼å‡ºã€Œèµ°å•Šï¼ã€",
      "é–‰çœ¼æŒ‡å‘æœ‹å‹",
      "ç”¨é¼»å­èç‰Œæ¡Œ",
      "å‡è£æŠ•æ“²éº»å°‡",
      "ç”©ç”©æ‰‹æŒ‡",
      "æ¯”å‡ºæ‹³é ­",
      "è²¼è€³è½æ¡Œé¢",
      "ç”¨æ‰‹åˆ®æ¡Œé¢",
      "æ¨¡ä»¿é‡‘å¹£è½åœ°è²",
      "æ‰‹æŒ‡è¼•æ•²ç‰ŒèƒŒ",
      "è·ºè…³ä¸€æ¬¡",
      "å½è…°æ‘¸è…³å°–",
      "æ‰“å€‹éŸ¿æŒ‡",
      "è¼•æ‹è‚©è†€",
      "æ¡æ‹³æ”¾åˆ°èƒ¸å‰",
      "æ‘¸æ‘¸è„–å­",
      "çœ‹æ‰‹æ©Ÿé æ¸¬é–‹èƒ¡ç‡",
      "å¤§å–Šã€Œå¤©å…¬ä¿ä½‘ï¼ã€",
      "ç”¨æ‰‹æŒ‡åŠƒå‡ºé‡‘å…ƒå¯¶å½¢ç‹€",
      "æ¨¡ä»¿é¢¨è²ã€Œå‘¼å‘¼ã€å¹ä¸‰æ¬¡",
      "è¼•è¼•æ‹æ‰“è‡ªå·±çš„å¿ƒå£ä¸‰ä¸‹ä¸¦ä½è²èªªã€Œèƒ¡ã€"
    ];
    let tasksRemaining = [...allTasks];

    // å¹¸é‹å‹•ä½œåˆ—è¡¨
    const actions = ['å·¦æ‰‹æ‘¸å³è€³','å–®è…³è·³ä¸‰ä¸‹','å˜´å·´å­¸ã€Œç¢°ç¢°ç¢°ã€','å°é¡å­ç¬‘ä¸‰æ¬¡','è½‰åœˆåœˆå–Šè‡ªæ‘¸','æ‘¸æ‘¸éº»å°‡ç‰ŒèƒŒé¢','æ•¬æ‹œæª¯é¢ä¸‰æ¬¡','æ‰“å€‹éŸ¿æŒ‡','å”±é¦–éº»å°‡ä¹‹æ­Œ','è·ªåœ°ç¥ˆç¦±','æ¯”ã€Œå‹ã€æ‰‹å‹¢','è²¼æ¡Œæ»‘è¡Œ','å˜´å·´å¿µå’’èª'];

    // æ©å…¬ç‰Œåˆ—è¡¨
    const mahjongTiles = [
      ...Array.from({length: 9}, (_, i) => `${i+1}æ¢`),
      ...Array.from({length: 9}, (_, i) => `${i+1}ç­’`),
      ...Array.from({length: 9}, (_, i) => `${i+1}è¬`),
      'æ±é¢¨', 'å—é¢¨', 'è¥¿é¢¨', 'åŒ—é¢¨', 'ç´…ä¸­', 'ç™¼è²¡', 'ç™½æ¿'
    ];

    let energy = 0, summoned = false, superGod = false, superCharge = false, superTimer;
    const summonBtn = document.getElementById('summonBtn');
    const chargeBtn = document.getElementById('chargeBtn');
    const msg = document.getElementById('message');
    const lucky = document.getElementById('lucky');
    const ritual = document.getElementById('ritual');
    const engong = document.getElementById('engong');
    const fill = document.getElementById('energyFill');

    function summon() {
      clearTimeout(superTimer);
      // é‡ç½®ç•«é¢ç‹€æ…‹
      msg.innerHTML = '';
      ritual.innerHTML = '';
      document.body.style.backgroundColor = '#fff7e6';
      energy = 0; fill.style.width = '0%';
      tasksRemaining = [...allTasks]; superCharge = false;

      const chance = Math.random();
      if (chance < 0.5) {
        msg.innerHTML = 'å¹¹ï¼è²¡ç¥ä»Šå¤©è·‘å»æ³¡æº«æ³‰å•¦ï¼Œè‡ªå·±å†å¬å–šï¼';
        summonBtn.innerText = 'é‡æ–°å¬å–šï¼'; chargeBtn.style.display = 'none'; summoned = false; return;
      }
      // æˆåŠŸå¬å–š
      summoned = true; summonBtn.style.display = 'none'; chargeBtn.style.display = 'inline-block'; summonBtn.innerText = 'æ‹›è²¡ç¥å•¦ï¼';
      // ä»Šæ—¥æ©å…¬ç‰Œ & å¹¸é‹å‹•ä½œ
      const a = mahjongTiles[Math.floor(Math.random()*mahjongTiles.length)]; let b;
      do { b = mahjongTiles[Math.floor(Math.random()*mahjongTiles.length)]; } while (b === a);
      engong.innerHTML = `ğŸ€„ ä»Šæ—¥æ©å…¬ç‰Œï¼š ${a} ã€ ${b}`;
      const act = actions[Math.floor(Math.random()*actions.length)];
      lucky.innerHTML = `ğŸ’ƒ ä»Šæ—¥å¹¸é‹å‹•ä½œï¼š<b>${act}</b>`;
      // è¶…ç´šè²¡ç¥ 30%
      if (Math.random() < 0.3) {
        superGod = true;
        msg.innerHTML = 'å“‡æ“ï¼è¶…ç´šè²¡ç¥é™è‡¨ï¼ï¼ï¼<br>å¿«åœ¨ 5 ç§’å…§é–‹å§‹é›†æ°£ï¼';
        document.body.style.backgroundColor = '#ffd700';
        superTimer = setTimeout(() => { if (superGod) { msg.innerHTML = 'è¶…ç´šè²¡ç¥ä¸è€ç…©ï¼Œè·‘æ‰äº†ï¼ ğŸ˜±'; resetSummon(); } }, 5000);
        return;
      }
      superGod = false; msg.innerHTML = 'å“‡æ“ï¼è²¡ç¥åˆ°å•¦ï¼ï¼ï¼æº–å‚™é›†æ°£ï¼'; document.body.style.backgroundColor = '#ffeb3b';
    }

    function charge() {
      if (!summoned) { alert('å¹¹ä½ å¨˜ï¼è²¡ç¥éƒ½æ²’ä¾†ä½ é›†ä¸‰å°æ°£ï¼'); return; }
      // è¶…ç´šè²¡ç¥å¿«é€Ÿé›†æ°£
      if (superGod && !superCharge) {
        superCharge = true; msg.innerHTML = 'è¶…ç´šè²¡ç¥é™è‡¨ï¼å¿«é€Ÿé›†æ°£ä¸­ï¼';
        let timer = setInterval(() => { if (energy >= 100) { clearInterval(timer); msg.innerHTML = 'ä½ æˆåŠŸå®‰æ’«è¶…ç´šè²¡ç¥ï¼é›†æ°£+100ï¼ğŸ”¥'; energy = 100; fill.style.width = '100%'; setTimeout(resetSummon,1000);} else if (Math.random()<0.1){ energy+=10; fill.style.width=energy+'%'; } }, 500);
        setTimeout(()=>{
n      }, 5000); return; }
      // æ­£å¸¸é›†æ°£
      const r = Math.random(); if (r<0.2) { msg.innerHTML='å¹¹ï¼é›†æ°£æ™‚è²¡ç¥è¢«åš‡è·‘äº†â‹¯â‹¯é‡ä¾†ï¼'; resetSummon(); return;} if (r<0.4){ msg.innerHTML='èª˜æƒ‘æ¨¡å¼ï¼Œç¹¼çºŒæŒ‰ä¸€æ¬¡é›†æ°£å°±å¥½ï½'; return;} energy = Math.min(100,energy+10); fill.style.width = energy+'%';
      // ä»»å‹™
      if (tasksRemaining.length===0) tasksRemaining=[...allTasks];
      const idx = Math.floor(Math.random()*tasksRemaining.length);
      const task = tasksRemaining.splice(idx,1)[0];
      ritual.innerHTML = `<strong>æ–°é›†æ°£ä»»å‹™ï¼š</strong><br>${task}`;
      document.body.classList.add('flash'); msg.classList.add('shake');
      setTimeout(()=>{document.body.classList.remove('flash'); msg.classList.remove('shake');},500);
      if (energy===100){ setTimeout(()=>{ alert('å¹¹ï¼é›†æ°£çˆ†è¡¨ï¼ï¼ï¼ä»Šæ™šèƒ¡çˆ†åé€£ç™¼ï¼ğŸ”¥'); energy=0; fill.style.width='0%';},300); }
      document.getElementById('powerupSound').currentTime=0; document.getElementById('powerupSound').play();
    }

    function resetSummon() {
      summoned=false; superGod=false; superCharge=false; energy=0; fill.style.width='0%'; chargeBtn.style.display='none'; summonBtn.style.display='inline-block'; summonBtn.innerText='é‡æ–°å¬å–šï¼';
    }
  </script>

</body>
</html>